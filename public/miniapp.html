<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Mini App</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>

<body>
    <main>
        <div
            style="text-align: center; color: ivory; background-color: midnightblue; padding: 20px; font-size: 24px; font-weight: bold;">
            MiniApp
        </div>
        <div>
            <section
                style="margin: 20px; padding: 10px; background-color: midnightblue; color:ivory; border: 1px solid #ccc; border-radius: 5px;">
                <h2>Create Flashcard Set</h2>
                <form>
                    <div style="margin-bottom: 10px;">
                        <label for="flashcard-title" style="display: block; font-weight: bold;">Title:</label>
                        <input type="text" id="flashcard-title" name="flashcard-title"
                            style="width: 99%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;"
                            placeholder="Enter a title for your flashcard set">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="flashcard-description"
                            style="display: block; font-weight: bold;">Description:</label>
                        <textarea id="flashcard-description" name="flashcard-description"
                            style="width: 99%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" rows="4"
                            placeholder="Enter a description for your flashcard set"></textarea>
                    </div>
                </form>
            </section>
            <form>
                <template id="flashcard-template">
                    <section class="flashcard"
                      style="margin: 20px; padding: 10px; background-color: midnightblue; color: ivory; border: 1px solid #ccc; border-radius: 5px;">
                      <div style="margin-bottom: 10px;">
                        <h3 class="flashcard-title">#</h3>
                        <div style="margin-bottom: 10px;">
                          <label class="label-term" style="display: block; font-weight: bold;">Term:</label>
                          <input type="text" class="flashcard-term"
                            style="width: 99%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;"
                            placeholder="Enter the term">
                        </div>
                        <div style="margin-bottom: 10px;">
                          <label class="label-def" style="display: block; font-weight: bold;">Definition:</label>
                          <textarea class="flashcard-definition"
                            style="width: 99%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" rows="4"
                            placeholder="Enter the definition"></textarea>
                        </div>
                      </div>
                    </section>
                  </template>
            </form>
            <div>
                <button name="addcard" type="button"
                    style="padding: 10px 20px; background-color: midnightblue; color: ivory; border: none; border-radius: 4px; cursor: pointer;">Add
                    Flashcard
                </button>
            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
              const addBtn = document.getElementById('add-flashcard');
              const container = document.getElementById('flashcards');
              const template = document.getElementById('flashcard-template');
              let count = 0;
        
              function addFlashcard() {
                count += 1;
                const frag = template.content.cloneNode(true);
        
                const title = frag.querySelector('.flashcard-title');
                const termInput = frag.querySelector('.flashcard-term');
                const defInput = frag.querySelector('.flashcard-definition');
                const termLabel = frag.querySelector('.label-term');
                const defLabel = frag.querySelector('.label-def');
        
                title.textContent = `#${count}`;
        
                const termId = `flashcard-term-${count}`;
                const defId = `flashcard-definition-${count}`;
                termInput.id = termId;
                defInput.id = defId;
        
                // Optional: name fields so they serialize as an array if inside a form
                termInput.name = `flashcards[${count - 1}][term]`;
                defInput.name = `flashcards[${count - 1}][definition]`;
        
                termLabel.setAttribute('for', termId);
                defLabel.setAttribute('for', defId);
        
                container.appendChild(frag);
              }
        
              addBtn.addEventListener('click', addFlashcard);
        
              // Start with one
              addFlashcard();
            });
          </script>
    </main>
</body>

</html>